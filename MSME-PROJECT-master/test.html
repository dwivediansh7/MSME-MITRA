<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSME Portal Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #FF9933;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 16px;
        }
        .test-button:hover {
            background: #e6851a;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background: #f0f0f0;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>🧪 MSME Portal - Functionality Test</h1>
        <p>This page tests the core functionality of the MSME Portal.</p>
        
        <h2>Navigation Tests</h2>
        <button class="test-button" onclick="testNavigation()">Test Navigation</button>
        <button class="test-button" onclick="testVerification()">Test Verification</button>
        <button class="test-button" onclick="testMarketplace()">Test Marketplace</button>
        <button class="test-button" onclick="testToast()">Test Toast Notifications</button>
        
        <div id="test-results"></div>
        
        <h2>Quick Access</h2>
        <a href="index.html" class="test-button" style="text-decoration: none; display: inline-block;">
            🚀 Open MSME Portal
        </a>
        
        <h2>Features Checklist</h2>
        <ul>
            <li>✅ Responsive Design</li>
            <li>✅ Indian Government Theme</li>
            <li>✅ Dashboard with Stats</li>
            <li>✅ Verification System</li>
            <li>✅ Marketplace</li>
            <li>✅ ERP Modules</li>
            <li>✅ CRM Panel</li>
            <li>✅ Government Schemes</li>
            <li>✅ Business Score</li>
            <li>✅ Learning Hub</li>
            <li>✅ Mobile Responsive</li>
        </ul>
        
        <h2>Browser Console</h2>
        <p>Open browser developer tools (F12) and check the Console tab for debug messages.</p>
        
        <h2>Test Instructions</h2>
        <ol>
            <li><strong>Navigation:</strong> Click on sidebar menu items to switch between pages</li>
            <li><strong>Verification:</strong> Try uploading files and completing verification steps</li>
            <li><strong>Marketplace:</strong> Click "Add Product" button to test modal functionality</li>
            <li><strong>Mobile:</strong> Resize browser window to test responsive design</li>
            <li><strong>Interactive Elements:</strong> Click buttons, fill forms, test all interactive features</li>
        </ol>
    </div>

    <script>
        function addTestResult(message, isSuccess = true) {
            const resultsDiv = document.getElementById('test-results');
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${isSuccess ? 'success' : 'error'}`;
            resultDiv.innerHTML = `${isSuccess ? '✅' : '❌'} ${message}`;
            resultsDiv.appendChild(resultDiv);
        }

        function testNavigation() {
            try {
                // Test if we can access the portal object
                if (typeof window.msmePortal !== 'undefined') {
                    addTestResult('MSME Portal object is accessible');
                } else {
                    addTestResult('MSME Portal object not found - this is expected on test page', false);
                }
                
                // Test if PageTemplates exist
                if (typeof window.PageTemplates !== 'undefined') {
                    addTestResult('Page templates are loaded');
                    
                    // Test dashboard template
                    const dashboardHTML = window.PageTemplates.dashboard();
                    if (dashboardHTML && dashboardHTML.includes('dashboard-page')) {
                        addTestResult('Dashboard template works correctly');
                    } else {
                        addTestResult('Dashboard template has issues', false);
                    }
                } else {
                    addTestResult('Page templates not loaded', false);
                }
            } catch (error) {
                addTestResult(`Navigation test error: ${error.message}`, false);
            }
        }

        function testVerification() {
            try {
                if (typeof window.PageComponents !== 'undefined') {
                    addTestResult('Page components are loaded');
                } else {
                    addTestResult('Page components not loaded', false);
                }
                
                // Test verification template
                if (window.PageTemplates && window.PageTemplates.verification) {
                    const verificationHTML = window.PageTemplates.verification();
                    if (verificationHTML && verificationHTML.includes('verification-page')) {
                        addTestResult('Verification template works correctly');
                    } else {
                        addTestResult('Verification template has issues', false);
                    }
                }
            } catch (error) {
                addTestResult(`Verification test error: ${error.message}`, false);
            }
        }

        function testMarketplace() {
            try {
                if (window.PageTemplates && window.PageTemplates.marketplace) {
                    const marketplaceHTML = window.PageTemplates.marketplace();
                    if (marketplaceHTML && marketplaceHTML.includes('marketplace-page')) {
                        addTestResult('Marketplace template works correctly');
                    } else {
                        addTestResult('Marketplace template has issues', false);
                    }
                }
            } catch (error) {
                addTestResult(`Marketplace test error: ${error.message}`, false);
            }
        }

        function testToast() {
            try {
                // Create a simple toast notification
                const toastContainer = document.createElement('div');
                toastContainer.style.position = 'fixed';
                toastContainer.style.top = '20px';
                toastContainer.style.right = '20px';
                toastContainer.style.zIndex = '1000';
                
                const toast = document.createElement('div');
                toast.style.background = '#4CAF50';
                toast.style.color = 'white';
                toast.style.padding = '15px';
                toast.style.borderRadius = '5px';
                toast.style.marginBottom = '10px';
                toast.innerHTML = '✅ Test toast notification!';
                
                toastContainer.appendChild(toast);
                document.body.appendChild(toastContainer);
                
                setTimeout(() => {
                    document.body.removeChild(toastContainer);
                }, 3000);
                
                addTestResult('Toast notification test successful');
            } catch (error) {
                addTestResult(`Toast test error: ${error.message}`, false);
            }
        }

        // Load the portal scripts for testing
        function loadPortalScripts() {
            const scripts = [
                'js/utils.js',
                'js/pages.js',
                'js/components.js',
                'js/app.js'
            ];
            
            scripts.forEach(src => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = () => console.log(`Loaded: ${src}`);
                script.onerror = () => console.error(`Failed to load: ${src}`);
                document.head.appendChild(script);
            });
        }

        // Load scripts when page loads
        window.addEventListener('load', () => {
            loadPortalScripts();
            setTimeout(() => {
                addTestResult('Test page loaded successfully');
            }, 1000);
        });
    </script>
</body>
</html>
